[gd_scene load_steps=12 format=4 uid="uid://6tsig1l1pn3w"]

[ext_resource type="Script" uid="uid://chbh13wl1vyn6" path="res://scripts/map/base_room.gd" id="1_ta5ng"]
[ext_resource type="Texture2D" uid="uid://xrhly4rowkk2" path="res://assets/map/map_tileset.png" id="2_ofpey"]
[ext_resource type="PackedScene" uid="uid://d0ojokxokewku" path="res://scenes/enemy/Areas/SpawnArea2D.tscn" id="2_rrtk3"]
[ext_resource type="PackedScene" uid="uid://bwrb05nb0u0rs" path="res://scenes/enemy/EnemyChicken.tscn" id="2_w6bg6"]
[ext_resource type="PackedScene" uid="uid://he20mbvfu5em" path="res://scenes/map/DoorArea.tscn" id="3_a3836"]
[ext_resource type="PackedScene" uid="uid://jymq8qvrgg6f" path="res://scenes/enemy/EnemyRaven.tscn" id="3_q3d64"]
[ext_resource type="PackedScene" uid="uid://c6jq64hs6hvtm" path="res://scenes/enemy/EnemySpider.tscn" id="6_ofpey"]
[ext_resource type="PackedScene" uid="uid://c8ni7apwy8dyx" path="res://scenes/objects/Interactables/Crate.tscn" id="7_q3d64"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_ta5ng"]
texture = ExtResource("2_ofpey")
texture_region_size = Vector2i(64, 64)
0:0/0 = 0
0:1/0 = 0
0:2/0 = 0

[sub_resource type="TileSet" id="TileSet_0b30f"]
tile_size = Vector2i(64, 64)
sources/0 = SubResource("TileSetAtlasSource_ta5ng")

[sub_resource type="NavigationPolygon" id="NavigationPolygon_1g803"]
vertices = PackedVector2Array(2870, 2550, 10, 2550, 10, 10, 2870, 10)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3)])
outlines = Array[PackedVector2Array]([PackedVector2Array(0, 0, 2880, 0, 2880, 2560, 0, 2560)])

[node name="FullRoom2" type="Node2D" node_paths=PackedStringArray("doors", "spawn", "spawnNodes", "navigation_region")]
script = ExtResource("1_ta5ng")
sockets = Array[String](["B", "B", "B", "B"])
doors = [NodePath("DoorArea"), NodePath("DoorArea2"), NodePath("DoorArea3"), NodePath("DoorArea4")]
spawn = NodePath("Spawn")
spawnNodes = [NodePath("SpawnArea2D"), NodePath("SpawnArea2D3")]
navigation_region = NodePath("NavigationRegion2D")
metadata/_edit_horizontal_guides_ = [738.0]

[node name="ColorRect" type="ColorRect" parent="."]
z_index = -10
offset_right = 2880.0
offset_bottom = 2560.0
color = Color(0.851563, 0.851563, 0.851563, 1)

[node name="TileMap" type="TileMapLayer" parent="."]
z_index = -10
scale = Vector2(5, 5)
tile_map_data = PackedByteArray("AAAGAAMAAAAAAAIAAAAWAA0AAQAAAAAAAAAWAAgAAQAAAAAAAAAWAAMAAQAAAAAAAAAWABIAAQAAAAAAAAAGAAAAAAAAAAIAAAAGAAEAAAAAAAIAAAAGAAIAAAAAAAIAAAAGAAQAAAAAAAIAAAAGAAUAAAAAAAIAAAAGAAYAAAAAAAIAAAAGAAcAAAAAAAIAAAABAAYAAAAAAAIAAFACAAYAAAAAAAIAAFADAAYAAAAAAAIAAFAEAAYAAAAAAAIAAFAFAAYAAAAAAAIAAFAHAAUAAAAAAAIAAFAIAAUAAAAAAAIAAFAAAAYAAAAAAAIAAFA=")
tile_set = SubResource("TileSet_0b30f")

[node name="DoorArea" parent="." instance=ExtResource("3_a3836")]
position = Vector2(2080, 120)

[node name="DoorArea2" parent="." instance=ExtResource("3_a3836")]
position = Vector2(2800, 1768)
rotation = 1.5708

[node name="DoorArea3" parent="." instance=ExtResource("3_a3836")]
position = Vector2(2080, 2432)
direction = 3

[node name="DoorArea4" parent="." instance=ExtResource("3_a3836")]
position = Vector2(88, 2080)
rotation = 1.5708

[node name="Spawn" type="Node2D" parent="."]
position = Vector2(1664, 1664)

[node name="MediumSpawn" type="Node2D" parent="."]
position = Vector2(1000, 600)

[node name="LargeSpawn" type="Node2D" parent="."]
position = Vector2(500, 600)

[node name="SpawnArea2D" parent="." instance=ExtResource("2_rrtk3")]
position = Vector2(584, 392)
allowed_enemies = Array[PackedScene]([ExtResource("2_w6bg6"), ExtResource("3_q3d64")])

[node name="SpawnArea2D3" parent="." instance=ExtResource("2_rrtk3")]
position = Vector2(2568, 1072)
allowed_enemies = Array[PackedScene]([ExtResource("3_q3d64"), ExtResource("6_ofpey")])

[node name="Area2D2" parent="." instance=ExtResource("7_q3d64")]
position = Vector2(2448, 2224)

[node name="Area2D" parent="." instance=ExtResource("7_q3d64")]
position = Vector2(1096, 1264)

[node name="NavigationRegion2D" type="NavigationRegion2D" parent="."]
navigation_polygon = SubResource("NavigationPolygon_1g803")

[connection signal="area_entered" from="DoorArea" to="DoorArea" method="_on_area_entered"]
[connection signal="area_entered" from="DoorArea2" to="DoorArea2" method="_on_area_entered"]
[connection signal="area_entered" from="DoorArea3" to="DoorArea3" method="_on_area_entered"]
[connection signal="area_entered" from="DoorArea4" to="DoorArea4" method="_on_area_entered"]
